{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/Input.js","components/Button.js","components/PersonForm.js","services/persons.js","components/Notification.js","components/ErrorMessage.js","App.js","index.js"],"names":["Person","person","clickHandler","name","phone","onClick","id","Persons","persons","filterName","filteredPersons","filter","toLowerCase","includes","map","Filter","changeHandler","filterValue","onChange","value","Input","text","inputValue","Button","type","PersonForm","submitHandler","nameInputHandler","nameInputValue","numberInputHandler","numberInputValue","onSubmit","baseurl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","style","color","fontSize","border","borderRadius","background","marginBottom","paddingLeft","ErrorMessage","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilterName","notification","setNotification","errorMessage","setErrorMessage","useEffect","personService","initialPersons","event","target","preventDefault","window","confirm","changedPerson","number","updatedPerson","setTimeout","catch","error","createdPerson","concat","createdName","createdNumber","deletingPerson","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7bcdfa27.chunk.js","sourcesContent":["\r\nconst Person = ({person, clickHandler}) => {\r\n  return (\r\n    <div>\r\n      <p>{person.name} {person.phone}</p>\r\n      <button onClick={() => clickHandler(person.id)}>delete</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons, filterName, clickHandler}) => {\r\n    const filteredPersons = persons.filter(person => person.name.toLowerCase().includes(filterName.toLowerCase()))\r\n      \r\n      return (\r\n          <>\r\n            {filteredPersons.map(person => <Person key={person.id} person={person} clickHandler={clickHandler} />)}\r\n          </>\r\n      )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({changeHandler, filterValue}) => {\r\n    return (\r\n        <div>filter by names: <input onChange={changeHandler} value={filterValue}/></div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Input = ({text, changeHandler, inputValue}) => {\r\n    return (\r\n        <div>\r\n            {text}: <input onChange={changeHandler} value={inputValue} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Input","import React from 'react'\r\n\r\nconst Button = ({text}) => {\r\n    return (\r\n        <button type=\"submit\" >{text}</button>\r\n    )\r\n}\r\n\r\nexport default Button","import React from 'react'\r\nimport Input from './Input'\r\nimport Button from './Button'\r\n\r\nconst PersonForm = ({submitHandler, nameInputHandler, nameInputValue, numberInputHandler, numberInputValue}) => {\r\n    return (\r\n        <form onSubmit={submitHandler}>\r\n            <Input text=\"name\" changeHandler={nameInputHandler} inputValue={nameInputValue} />\r\n            <Input text=\"number\" changeHandler={numberInputHandler} inputValue={numberInputValue} />\r\n            <Button text=\"add\" />\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\n\r\nconst baseurl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseurl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseurl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n  return axios.delete(`${baseurl}/${id}`)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseurl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n// eslint-disable-next-line\r\nexport default { getAll, create, remove, update }","const Notification = ({message}) => {\r\n  const messageStyle = {\r\n    color: 'green',\r\n    fontSize: 18,\r\n    border: 'solid',\r\n    borderRadius: 5,\r\n    background: 'lightgrey',\r\n    marginBottom: 15,\r\n    paddingLeft: 15\r\n  }\r\n  if(message === null){\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div style={messageStyle}>\r\n      <p>{message}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","const ErrorMessage = ({message}) => {\r\n  const messageStyle = {\r\n    color: 'red',\r\n    fontSize: 18,\r\n    border: 'solid',\r\n    borderRadius: 5,\r\n    background: 'lightgrey',\r\n    marginBottom: 15,\r\n    paddingLeft: 15\r\n  }\r\n  if(message === null){\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div style={messageStyle}>\r\n      <p>{message}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ErrorMessage","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\nimport ErrorMessage from './components/ErrorMessage'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filterName, setFilterName ] = useState('')\r\n  const [ notification, setNotification ] = useState(null)\r\n  const [ errorMessage, setErrorMessage ] = useState(null)\r\n  \r\n\r\n  useEffect(() => {\r\n    personService.getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const createName = (event) => {\r\n    const createdName = event.target.value\r\n    setNewName(createdName)\r\n  }\r\n\r\n  const createNumber = (event) => {\r\n      const createdNumber = event.target.value\r\n      setNewNumber(createdNumber)\r\n  }\r\n\r\n  const addToList = (event) => {\r\n      event.preventDefault()\r\n\r\n      const person = persons.filter(person => person.name === newName)[0]\r\n            \r\n      if(person) {\r\n        const confirm = window.confirm(`${newName} is already added to phonebook\\nReplace the old number with new one?`)\r\n\r\n        if(confirm){\r\n          const changedPerson = {...person, number: newNumber}\r\n          const id = changedPerson.id\r\n\r\n          personService.update(id, changedPerson)\r\n            .then(updatedPerson => {\r\n              setPersons(persons.map(person => person.id !== id ? person : updatedPerson))\r\n              setNewName('')\r\n              setNewNumber('')\r\n              setNotification(`${updatedPerson.name}'s number replaced!`)\r\n              setTimeout(() => {\r\n                setNotification(null)\r\n              }, 2000)\r\n            })\r\n            .catch(error => {\r\n              setErrorMessage(error.response.data.error)\r\n              setTimeout(() => {\r\n                setErrorMessage(null)\r\n              }, 5000)\r\n            })\r\n        }\r\n      } else {\r\n        const newPerson = { name: newName, number: newNumber} \r\n\r\n        personService.create(newPerson)\r\n          .then(createdPerson => {\r\n            setPersons(persons.concat(createdPerson))\r\n            setNewName('')\r\n            setNewNumber('')\r\n            setNotification(`${createdPerson.name} created!`)\r\n            setTimeout(() => {\r\n              setNotification(null)\r\n            }, 2000)\r\n          })\r\n          .catch(error => {\r\n            setErrorMessage(error.response.data.error)\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n          })\r\n      }\r\n  }\r\n\r\n  const deleteFromList = (id) => {\r\n    const deletingPerson = persons.find(person => person.id === id)    \r\n    const confirmed = window.confirm(`Delete ${deletingPerson.name}?`)\r\n\r\n    if(confirmed){\r\n      personService.remove(id)\r\n      .then(() => {\r\n        setPersons(persons.filter(person => person.id !== id))\r\n        setNotification(`${deletingPerson.name} deleted!`)\r\n        setTimeout(() => {\r\n          setNotification(null)\r\n        }, 2000)\r\n      })\r\n      .catch(error => {\r\n        setErrorMessage(`${deletingPerson.name} has already been removed from server`)\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 2500)\r\n      })\r\n    }   \r\n  }\r\n\r\n  const filterByName = (event) => {\r\n      setFilterName(event.target.value)  \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notification} />\r\n      <ErrorMessage message={errorMessage} />\r\n      <Filter changeHandler={filterByName} filterValue={filterName} />\r\n      <h3>Add a new Number</h3>\r\n      <PersonForm submitHandler={addToList} nameInputHandler={createName} nameInputValue={newName} numberInputHandler={createNumber} numberInputValue={newNumber} />\r\n      <h3>Numbers</h3>\r\n      <Persons persons={persons} filterName={filterName} clickHandler={deleteFromList} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}